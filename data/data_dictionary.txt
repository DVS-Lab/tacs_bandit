DATA DICTIONARY: TWO-ARMED BANDIT TASK
=======================================

This document describes the variables in the trial-level data files 
generated by bandit_task_v17.py.


FILE NAMING CONVENTION
----------------------
sub-{subject_id}_ses-{session}_run-{run}_task-bandit_{date}.csv


VARIABLE DESCRIPTIONS
---------------------

Trial Information
~~~~~~~~~~~~~~~~~
trial_num           int       Trial number within the run (0-indexed)
run                 int       Run number within the session (1-8)
run_type            str       Run type from configuration (e.g., baseline, stimulation)
stim_condition      str       Stimulation condition: baseline, active, or sham

Task State
~~~~~~~~~~
trial_in_contingency  int     Trial count within current contingency block 
                              (resets to 0 after each reversal)
current_good          int     Currently rewarded option (1 or 2). This option 
                              has higher reward probability.
contingency_trials    int     Total trials in current contingency block before 
                              next reversal

Stimuli
~~~~~~~
flower1             int       Image ID for slot machine 1 (consistent within run)
flower2             int       Image ID for slot machine 2 (consistent within run)
slot1_position      str       Screen position of slot 1 on this trial (left or right)
slot2_position      str       Screen position of slot 2 on this trial (left or right)

Response Data
~~~~~~~~~~~~~
choice              int/None  Participant's choice (1, 2, or None if no response)
rt                  float/None Response time in milliseconds (None if no response)
correct             bool/None Whether participant chose the current high-probability option
reward              bool/None Whether the trial was rewarded (probabilistic based on choice)

Timing
~~~~~~
wait_time           float     Duration of post-choice wait period (ms)
iti                 float     Inter-trial interval duration (ms)
timestamp           float     Time since experiment start (sec)
trial_start_time    float     Time since current run start (sec)

Participant Information
~~~~~~~~~~~~~~~~~~~~~~~
subject_id          str       Participant ID
session             int       Session number
age                 int       Participant age
gender              str       Participant gender
date                str       Session date/time stamp (format: YYYY-MM-DD_HH-MM-SS)


TASK DESIGN NOTES
-----------------
- Reward probability: The current_good option is rewarded with higher 
  probability (defined in config as win_fraction). The other option is 
  rewarded at 1 - win_fraction.

- Contingency reversals: After contingency_trials trials, the rewarded 
  option switches (1 -> 2 or 2 -> 1).

- Position randomization: Slot positions (left/right) are randomized 
  across trials to dissociate stimulus identity from spatial location.

- Stimulation timing: For active and sham conditions, task onset is 
  synchronized to stimulation start via LSL markers.
